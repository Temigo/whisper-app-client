<div class="panel panel-default">
	<div class="panel-heading"><h3 class="panel-title">Infection {{currentInfectionIndex}} for {{graphList[currentIndex].name}}</h3></div>
	<div class="panel-body">
		<uib-tabset>
			<uib-tab>
				<uib-tab-heading>
					Nouveau
				</uib-tab-heading>
				<uib-accordion>
					<uib-accordion-group is-open="status.open4">
						<uib-accordion-heading>
							<h4 class="panel-title">
								<a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOneInfection" aria-expanded="true" aria-controls="collapseOneInfection"><span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span> Importer</a>
								<i class="glyphicon pull-right" ng-class="{'glyphicon-chevron-down': status.open4, 'glyphicon-chevron-right': !status.open4}"></i>
							</h4>
						</uib-accordion-heading>

						<input type="file" on-read-file="uploadInfection($fileContent)" accept="application/json"/>

					</uib-accordion-group>
					<uib-accordion-group is-open="status.open5">
						<uib-accordion-heading>
							<h4 class="panel-title">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                    <span class="glyphicon glyphicon-cog" aria-hidden="true"></span> Générer
                                </a>
								<i class="glyphicon pull-right" ng-class="{'glyphicon-chevron-down': status.open5, 'glyphicon-chevron-right': !status.open5}"></i>
                            </h4>
						</uib-accordion-heading>
						<form class="form-horizontal" ng-submit="generateGraph(generationInfectionMethod, generateInfectionN, true)">
							<!--{% csrf_token %}-->
							<select class="form-control" name="generate_method" ng-model="generationInfectionMethod">
								<option value="1">Complete graph</option>
								<option value="2">Cycle graph</option>
								<option value="3">Circular ladder graph</option>
								<option value="4">Dorogovtsev_goltsev_mendes graph</option>
								<option value="5">Empty graph</option>
								<option value="6">Hypercube graph</option>
								<option value="7">Ladder graph</option>
								<option value="8">Path graph</option>
								<option value="9">Star graph</option>
								<option value="10">Wheel graph</option>
							</select>
							<div class="input-group">
								<span class="input-group-addon" id="sizing-addon">Valeur de n</span>
								<input ng-model="generateInfectionN" id="generate_n" name="generate_n" type="number" class="form-control" aria-describedby="sizing-addon"/>
							</div>
							<button class="btn btn-default" type="submit">OK</button>
						</form>
					</uib-accordion-group>
                    <uib-accordion-group is-open="status.open6">
						<uib-accordion-heading>
							<h4 class="panel-title">
                                <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    <span class="glyphicon glyphicon-signal" aria-hidden="true"></span> Simuler
                                </a>
								<i class="glyphicon pull-right" ng-class="{'glyphicon-chevron-down': status.open6, 'glyphicon-chevron-right': !status.open6}"></i>
                            </h4>
						</uib-accordion-heading>
						<form class="form-horizontal" ng-submit="simulateInfection(seeds, ratio, proba)">
							<div class="input-group">
								<select-nodes nodes="seeds" select="selectSeeds"></select-nodes>
							</div>
							<div class="input-group">
								<span class="input-group-addon" id="sizing-addon">Ratio</span>
								<input ng-model="ratio" id="ratio" name="ratio" type="number" step="0.01" class="form-control" aria-describedby="sizing-addon"/>
							</div>
                            <div class="input-group">
								<span class="input-group-addon" id="sizing-addon">Probability</span>
								<input ng-model="proba" id="proba" name="proba" type="number" step="0.01" class="form-control" aria-describedby="sizing-addon"/>
							</div>
							<button class="btn btn-default" type="submit">OK</button>
						</form>
					</uib-accordion-group>
				</uib-accordion>
			</uib-tab>
			<uib-tab>
				<uib-tab-heading>
					Existant
				</uib-tab-heading>
				<form class="form-horizontal">
	                <div class="form-group">
	                    <label for="infection_id" class="col-sm-2 control-label">Infection</label>
	                    <div class="col-sm-10">
	                        <select class="form-control" name="infection_id" ng-model="currentInfectionIndex" ng-options="parseInt(index) as infection.name for (index, infection) in infectionList" ng-change="setCurrentInfectionIndex(currentInfectionIndex)">
	                            <!--<option value="">Choisir</option>-->
	                        </select>
	                        <p ng-if="infectionList === []">No infection graphs are available.</p>
	                    </div>
	                </div>
	            </form>
			</uib-tab>
		</uib-tabset>

		<!-- Export infection -->
		<div class="text-center">
			<button class="btn btn-primary" ng-click="export(currentInfection)"><span class="glyphicon glyphicon-cloud-download" aria-hidden="true"></span> Export Infection (JSON)</button>
	    </div>
	</div>
</div>
